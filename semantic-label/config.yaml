model:
  name: "ViT-B/32"
  pretrained: "openai"
  device: "cpu"  # Change to "cuda" if GPU available
  batch_size: 16

# Scene classifier for interior/exterior classification
scene_classifier:
  type: "siglip"  # Options: "clip" or "siglip"
  siglip_model: "google/siglip2-base-patch16-224"

labeling:
  generator_type: "openai"  # Options: "clip", "siglip", or "openai"
  openai_model: "gpt-5-nano"
  top_k_labels: 10
  confidence_threshold: 0.20
  max_labels_per_category: 3
  
  system_prompt: |
    You are an expert real estate agent and interior designer with global property knowledge.
    Your task is to analyze a set of interior photos of a property and generate AT LEAST 10 high-quality, fascinating, descriptive semantic tags.
    The system must work across multiple regions (e.g., Taiwan, Japan, United States) without retraining.

    Tag selection rules (VERY IMPORTANT):

    1. Room Types:
    - ONLY include non-generic or special-purpose room types.
    - DO NOT include generic rooms such as bedroom or living room unless they have a distinctive function or design.
    - Examples of allowed room tags:
    tatami room, garage, laundry room, basement, genkan
    - Examples of disallowed generic tags:
    bedroom, living room, bathroom (unless functionally special)
    - DO NOT describe the same room type multiple times.

    2. Layout & Spatial Organization:
    - Include layout-related tags describing spatial flow or planning.
    - Examples:
    open plan, LDK layout, split-level, compact layout, flexible space

    3. Interior Style & Design Features (REQUIRED):
    - Include at least ONE tag describing interior design style or overall aesthetic.
    - Use region-neutral style labels when possible.
    - Use culturally specific style terms ONLY when visually clear.
    - Examples of allowed style tags:
    modern minimalist design, contemporary style, traditional style, industrial loft aesthetic, scandinavian design, luxury finishes, cozy atmosphere, bright and airy, warm tones, neutral color palette

    4. Comfort & Condition:
    - Include tags describing comfort, lighting, ventilation, and overall condition.
    - Examples:
    natural lighting, cross ventilation, well-maintained, newly renovated

    5. Region-Sensitive Features:
    - Highlight features that are culturally or regionally valued IF visually identifiable.
    - Examples:
    feng shui layout, earthquake-resistant, sound insulation, tatami room
    - Avoid assumptions if visual evidence is weak.

    6. Cross-region Requirements:
    - Prefer globally understandable terminology.
    - Use region-specific terms ONLY when visually clear (e.g., genkan, tatami room).
    - Normalize equivalent concepts (balcony / veranda / lanai → balcony).

    7. Other Material & Built-in Features:
    - Include visible material or built-in elements when relevant.
    - Examples:
    hardwood flooring, tile flooring, marble countertops, granite countertops,
    built-in storage, built-in wardrobes, crown molding

    Output constraints:
    - Output AT LEAST 10 comma-separated tags.
    - Each tag must be 1–3 words.
    - Do NOT include explanations, full sentences, or region names.
  
  # Label vocabulary organized by category (used in non-VLM labeling)
  room_types:
    - "balcony"
    - "laundry room"
    - "kitchen"
    - "parking space"
    - "gym"
    - "swimming pool"
  
  style_labels:
    - "modern minimalist design"
    - "contemporary style"
    - "traditional style"
    - "industrial loft aesthetic"
    - "scandinavian design"
    - "luxury finishes"
    - "cozy atmosphere"
    - "bright and airy"
    - "warm tones"
    - "neutral color palette"
  
  feature_labels:
    - "hardwood flooring"
    - "tile flooring"
    - "marble countertops"
    - "granite countertops"
    - "floor-to-ceiling windows"
    - "large windows"
    - "built-in storage"
    - "built-in wardrobes"
    - "open floor plan"
    - "high ceilings"
    - "natural lighting"
    - "recessed lighting"
    - "pendant lighting"
    - "stainless steel appliances"
    - "modern fixtures"
    - "glass shower enclosure"
    - "bathtub"
    - "double sink vanity"
    - "kitchen island"
    - "open shelving"
    - "crown molding"
    - "exposed brick"
    - "wood beam ceilings"
  
  condition_labels:
    - "newly renovated"
    - "well-maintained"
    - "move-in ready"
    - "pristine condition"
    - "updated appliances"

optimization:
  use_caching: true
  use_quantization: false
  parallel_workers: 4
  image_cache_dir: "cache/images"
  embedding_cache_dir: "cache/embeddings"

# Region settings (used in non-VLM labeling)
regions:
  default: "us"
  supported: ["taiwan", "japan", "us"]
  
  # Region-specific vocabulary
  region_vocab:
    taiwan:
      - "balcony with laundry area"
      - "tile flooring"
      - "security door"
      - "shoe cabinet"
    japan:
      - "genkan entrance"
      - "washitsu room"
      - "tatami flooring"
      - "unit bath"
      - "sliding doors"
    us:
      - "walk-in closet"
      - "central air conditioning"
      - "hardwood floors"
      - "granite countertops"
      - "stainless steel appliances"

evaluation:
  metrics: 
    - "coverage"
    - "diversity"
    - "specificity"
    - "redundancy"
    - "clip_consistency"
  num_runs: 3 # Number of times to run per property for latency benchmarking

output:
  results_dir: "results"
  save_visualizations: true
  save_metrics: true
